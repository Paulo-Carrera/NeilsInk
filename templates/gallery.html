{% extends 'base.html' %}

{% block content %}
<div>
    <h1 class="text-center page-header">Gallery</h1>
</div>
    <!-- Main Content -->
    <main class="flex-fill">

        <!-- Piercings Section -->
        <div class="container slide-show mt-5">
            <h2 class="text-center">Piercings</h2>
            <div class="slide-show-container">
                {% for image in piercings_images %}
                    <div class="slide-show-card">
                        <img src="{{ url_for('static', filename='piercings-images/' + image) }}" alt="Image of a piercing" loading="lazy">
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Tattoos Section -->
        <div class="container slide-show mt-5">
            <h2 class="text-center">Tattoos</h2>
            <div class="slide-show-container">
                {% for image in tattoos_images %}
                    <div class="slide-show-card">
                        <img src="{{ url_for('static', filename='tattoos-images/' + image) }}" alt="Image of a tattoo" loading="lazy">
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="container text-center mt-5 see-more">
            <a href="https://www.instagram.com/neilsink_/" class="button-59" target="_blank">SEE MORE</a>
        </div>

    </main>

    <!-- CSS Styles -->
    <style>
        .page-header {
        border: 2px solid #255238;
        color: white;
        text-align: center;
        background-color: #789785;
        padding: 5px;
        }

        .slide-show-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Adjust as needed */
            height: 400px; /* Set a fixed height for the slideshow */
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: auto;
            border: 4px solid #4b2f1a;
        }

        .slide-show-card {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 100%; /* Start off-screen */
            transition: left 0.5s ease, opacity 0.5s ease; /* Smooth transition */
            opacity: 0; /* Initially hidden */
        }

        .slide-show-card img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Maintain aspect ratio */
            border-radius: 0px; /* Optional: rounded corners */
        }

        .slide-show-card.active {
            left: 0; /* Bring active slide into view */
            opacity: 1; /* Make it visible */

        .see-more{
            margin-bottom:0;
        }
        }

    </style>

    <!-- JavaScript for Slideshow Functionality -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const slideshows = document.querySelectorAll('.slide-show-container');

            slideshows.forEach((slideshow) => {
                let currentSlide = 0;
                const slides = slideshow.querySelectorAll('.slide-show-card');

                function showSlide(index) {
                    slides.forEach((slide, i) => {
                        slide.classList.remove('active');
                        if (i === index) {
                            slide.classList.add('active');
                            slide.style.left = '0'; // Position active slide in view
                        } else {
                            slide.style.left = '100%'; // Move inactive slides off-screen
                        }
                    });
                }

                function nextSlide() {
                    currentSlide = (currentSlide + 1) % slides.length;
                    showSlide(currentSlide);
                }

                // Automatically cycle through slides every 4 seconds
                setInterval(nextSlide, 4000);

                // Initialize the first slide as visible
                showSlide(currentSlide);
            });
        });
    </script>

{% endblock %}

